<% content_for :og_name, @artist.name
content_for :og_url, request.url
content_for :og_image, File.join(root_url , @artist.image.url(:large))
content_for :og_description, @artist.name + " is telling fans about their new releases on SNGTRKR. Why don't you follow them too?"
content_for :og_id, @artist.id.to_s
%>
<% content_for :description do %><%= truncate((strip_tags @artist.bio || "" ), :length => 150) %><% end %>
<style type="text/css">
#artist-image {
background-image:url(<%= @artist.image.url :large %>);
background-repeat:no-repeat;
}
</style>
<% content_for :title do %><%= @artist.name %> information and releases 2012<% end %>
<div class="content content-pad-160-bottom">
	<div id="content-artist">
	<div id="artist-image"><div id="share-bar">
	<ul>
	<a href="#" title="Share on Facebook" onClick="MyWindow=window.open('https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.sngtrkr.com<%= url_for @artist %>%2F&t=SNGTRKR','ShareSNGTRKRonFacebook','scrollbars=no,width=620,height=340'); return false;"><li class="left"><i class="icon-facebook"></i><span>Share</span></li></a>
	<a href="#" title="Share on Twitter" onClick="MyWindow=window.open('https://twitter.com/intent/tweet?original_referer=http%3A%2F%2Fwww.sngtrkr.com&text=<%= @artist.name %>+is+using+SNGTRKR+to+keep+their+fans+up+to+date+with+releases.+Check+them+out+&#45;+www.sngtrkr.com<%= url_for @artist %>&via=SNGTRKR','ShareSNGTRKRonTwitter','scrollbars=no,width=620,height=340'); return false;"><li class="left"><i class="icon-twitter"></i><span>Tweet</span></li></a>	
	<a href="#" title="Share on Google Plus" onClick="MyWindow=window.open('https://plus.google.com/share?url=http%3A%2F%2Fwww.sngtrkr.com<%= url_for @artist %>','ShareSNGTRKRonGooglePlus','scrollbars=no,width=620,height=340'); return false;"><li class="left"><i class="icon-google-plus"></i><span>Post</span></li></a>
	</ul></div></div>
	<div id="artist-info">
	<h2><strong><div class="font-22 artist-name"><%= @artist.name %></div></strong></h2>
	<div class="genre"><i class="icon-tag" title="Genre"></i><% if @artist.genre? %><%= truncate((strip_tags @artist.genre || "" ), :length => 30) %><% else %><span class="light-gray">No genre set</span><% end %></div>
	<h3><i class="icon-music" title="Record Label"></i><% if @artist.label_name? %><%= truncate((strip_tags @artist.label_name || "" ), :length => 50) %><% else %><span class="light-gray">No label set</span><% end %><br/></h3>
	<div class="left artist-trkr-pos"><%= render :partial => 'shared/trk_artist', :object => @artist %></div>
	<div class="clear"></div>
	<div id="artist-bio"><% if @artist.bio? %><%= raw(truncate((strip_tags @artist.bio || "" ), :length => 240, :omission => "...<a href='#bio-full'>Read more</a>")) %><% else %><span class="light-gray">No biography set</span><% end %></div>
	</div>
	<ul>
			<li class="left">
				<a href="http://www.facebook.com/<%= @artist.fbid %>" target="_blank"><%= image_tag "/images/a-fb.png", :alt => "Facebook" %></a>
			</li>
			<% if @artist.twitter? %>
			<li class="left">
				<a href="http://www.twitter.com/<%= @artist.twitter %>" target="_blank"><%= image_tag "/images/a-twit.png", :alt => "Twitter" %></a>
			</li>
			<% else %><% end %>
			<% if @artist.soundcloud? %>
			<li class="left">
				<a href="http://www.soundcloud.com/<%= @artist.soundcloud %>" target="_blank"><%= image_tag "/images/a-sc.png", :alt => "Soundcloud" %></a>
			</li>
			<% else %><% end %>
			<% if @artist.website? %>
			<li class="left">
				<a href="http://<%= @artist.website %>" target="_blank"><%= image_tag "/images/a-web.png", :alt => "Website" %></a>
			</li>
			<% else %><% end %>
			<% if @artist.youtube? %>
			<li class="left">
				<a href="http://www.youtube.com/<%= @artist.youtube %>" target="_blank"><%= image_tag "/images/a-yt.png", :alt => "Youtube" %></a>
			</li>
			<% else %><% end %>
			<li class="left music-option">
				<%= image_tag "/images/a-music.png", :alt => "Music" %>
				<div class="dropdownContain">
					<div class="dropOut font-13">
						<div class="triangle"></div>
						<ul>
							<li class="left"><%= link_to (image_tag "/images/release-it.png", :alt => "iTunes", :title => "iTunes"), @artist.itunes, :target => "_blank" %></li>
							<li class="left"><%= link_to (image_tag "/images/release-7d.png", :alt => "7Digital", :title => "7Digital"), @artist.sd, :target => "_blank" %></li>
							<div class="clear"></div>
						</ul>
					
					</div>
				</div>
			</li>
		</ul>
	</div>
</div>
</div>
<div id="timeline-outer">
<%= image_tag "/images/shadow-line.png", :id => 'shadow-top' %>
<div id="timelime-trim">
<div id="timeline">
<%= image_tag "/images/timeline-left.png", :alt => "SNGTRKR", :id => "left-logo" %>
<div id="left-line"></div>
<ul class="release-list">
<%= render :partial => 'timeline/release', :collection => @timeline.order("date ASC"), :locals => { :date_format => "%d/%m/%y", :date_class => 'font-15' } %>
</ul>
<div class="clear"></div>
</div>
</div>
<%= image_tag "/images/shadow-line-bot.png", :id => 'shadow-bot' %>
</div>
<div class="content content-pad-160-bottom">
			<div id="bio-full">
	<div id="bio">
		<div class="signika-txt font-35 bio-title">Biography</div>
		<%= raw(@artist.bio) %></div>
	</div>
	<script type="text/javascript">
$(document).ready(function(){
  $('#bio a').attr('target', '_blank');
  		$("#artist-image").mouseover(function(){
				$("#share-bar").stop().animate({bottom : 0}, "slow");
			}).mouseout(function(){
				$("#share-bar").stop().animate({bottom : -25}, "slow");
			});
			$(".music-option").mouseover(function(){
			
				$(".dropdownContain").stop().fadeIn();
				
			}).mouseout(function(){
				$(".dropdownContain").stop().fadeOut();
			});
					$(".share-release").click(function() {
			$(this).closest(".each-release").find('.release-info').animate({bottom : -100}, "slow");
			$(this).closest(".each-release").find('.release-menu').animate({bottom : -25}, "slow");
			$(this).closest(".each-release").find('.r-grad').fadeOut("normal");
			$(this).closest(".each-release").find('.opac-50').fadeIn("normal");
			$(this).closest(".each-release").find('#share-release').animate({right : 0}, "slow");
		});
		$(".r-grad").mouseover(function(){
				$(this).closest(".each-release").find('.release-info').stop().animate({bottom : 33}, "slow");
				$(this).closest(".each-release").find('.release-menu').stop().animate({bottom : 0}, "slow");
			}).mouseout(function(){
				$(this).closest(".each-release").find('.release-info').stop().animate({bottom : 13}, "slow");
				$(this).closest(".each-release").find('.release-menu').stop().animate({bottom : -25}, "slow");
			});
		$(".share-cancel").click(function() {
			$(this).closest(".each-release").find('.release-info').animate({bottom : 13}, "slow");
			$(this).closest(".each-release").find('.release-menu').animate({bottom : -25}, "slow");
			$(this).closest(".each-release").find('.r-grad').fadeIn("normal");
			$(this).closest(".each-release").find('.opac-50').fadeOut("normal");
			$(this).closest(".each-release").find('#share-release').animate({right : -210}, "slow");
		});
		$(".sm-trigger").click(function() {
			$(this).closest(".each-release").find('.release-info').animate({bottom : 13}, "slow");
			$(this).closest(".each-release").find('.release-menu').animate({bottom : -25}, "slow");
			$(this).closest(".each-release").find('.r-grad').fadeIn("normal");
			$(this).closest(".each-release").find('.opac-50').fadeOut("normal");
			$(this).closest(".each-release").find('#share-release').animate({right : -210}, "slow");
		});
		$(".buy-release").click(function() {
			$(this).closest(".each-release").find('.release-info').animate({bottom : -100}, "slow");
			$(this).closest(".each-release").find('.release-menu').animate({bottom : -25}, "slow");
			$(this).closest(".each-release").find('.r-grad').fadeOut("normal");
			$(this).closest(".each-release").find('.opac-50').fadeIn("normal");
			$(this).closest(".each-release").find('#buy-release').animate({left : 0}, "slow");
		});
		$(".buy-cancel").click(function() {
			$(this).closest(".each-release").find('.release-info').animate({bottom : 13}, "slow");
			$(this).closest(".each-release").find('.release-menu').animate({bottom : -25}, "slow");
			$(this).closest(".each-release").find('.r-grad').fadeIn("normal");
			$(this).closest(".each-release").find('.opac-50').fadeOut("normal");
			$(this).closest(".each-release").find('#buy-release').animate({left : -210}, "slow");
		});
		$(".buy-trigger").click(function() {
			$(this).closest(".each-release").find('.release-info').animate({bottom : 13}, "slow");
			$(this).closest(".each-release").find('.release-menu').animate({bottom : -25}, "slow");
			$(this).closest(".each-release").find('.r-grad').fadeIn("normal");
			$(this).closest(".each-release").find('.opac-50').fadeOut("normal");
			$(this).closest(".each-release").find('#buy-release').animate({left : -210}, "slow");
		});
});

</script>
		<script type="text/javascript">
$(document).ready(function () {        
        $('#timeline').mousedown(function (event) {
            $(this)
                .data('down', true)
                .data('x', event.clientX)
                .data('scrollLeft', this.scrollLeft);
                
            return false;
        }).mouseup(function (event) {
            $(this).data('down', false);
        }).mousemove(function (event) {
            if ($(this).data('down') == true) {
                this.scrollLeft = $(this).data('scrollLeft') + $(this).data('x') - event.clientX;
            }
        }).mousewheel(function (event, delta) {
            this.scrollLeft -= (delta * 30);
        }).css({
            'overflow' : 'hidden',
            'cursor' : '-moz-grab'
        });
    });
    
    $(window).mouseout(function (event) {
        if ($('#timeline').data('down')) {
            try {
                if (event.originalTarget.nodeName == 'BODY' || event.originalTarget.nodeName == 'HTML') {
                    $('#timeline').data('down', false);
                }                
            } catch (e) {}
        }
    });
        //mousewheel
        var stepsWidth = 0;
			var widths = new Array();
			$('.release-list .each-release').each(function(i) {
				var $step = $(this);
				widths[i] = stepsWidth;
				stepsWidth += $step.width();
			});
			$('.release-list').width(stepsWidth+220);
		</script>