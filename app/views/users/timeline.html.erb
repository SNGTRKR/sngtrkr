<% content_for :title do %>Your Timeline<% end %>
<% content_for :description do %><%= current_user.first_name %>'s personalised timeline of artist releases, where they can view new and old releases while being able to listen to and buy tracks.<% end %>
<div class="content content-pad-160">
</div>
</div>
<div id="timeline">
<ul class="release-list">
  <% @timeline[0..10].each do |release| %>
	<li class="left each-release" style="background-image:url(<%= release.image :release %>); background-position:center;">
	<div class="r-grad">
	<div class="release-info">
	<strong><span class="font-18"><%= release.name %></span></strong><br/>
	<%= link_to release.artist.name, release.artist %><br/>
	<span class="font-11"><%= release.label_name %></span>
		</div>
	<div class="release-menu font-13">
		<ul class="menu">
		<li class="left menu-item buy-release">Buy</li>
		<li class="left menu-item">Listen</li>
		<a href=".share-release"><li class="left menu-item">Share</li></a>
		</ul>
	</div>
	</div>
	<div class="opac-50"></div>
	</li>
	<% end %>
</ul>
<div class="clear"></div>
<%= image_tag "/images/shadow-line.png", :id => 'shadow-top' %>
<%= image_tag "/images/shadow-line-bot.png", :id => 'shadow-bot' %>
</div>
<div class="content content-pad-160-bottom">
<script type="text/javascript">
	$(document).ready(function() {
		$(".buy-release").click(function() {
			event.preventDefault();
			 var $lefty = $(this).children();
			$(this).closest(".each-release").find('.release-info').animate({bottom : -100}, "slow");
			$(this).closest(".each-release").find('.release-menu').animate({bottom : -25}, "slow");
			$(this).closest(".each-release").find('.r-grad').fadeOut("normal");
			$(this).closest(".each-release").find('.opac-50').fadeIn("normal");
		});
		$(".r-grad").mouseover(function(){
				$(this).closest(".each-release").find('.release-info').stop().animate({bottom : 33}, "slow");
				$(this).closest(".each-release").find('.release-menu').stop().animate({bottom : 0}, "slow");
			}).mouseout(function(){
				$(this).closest(".each-release").find('.release-info').stop().animate({bottom : 13}, "slow");
				$(this).closest(".each-release").find('.release-menu').stop().animate({bottom : -25}, "slow");
			});
		});
		</script>
